(this["webpackJsonpverifone-react"]=this["webpackJsonpverifone-react"]||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(13),a=n.n(c),i=n(6),o=(n(19),n(14)),l=n(7),u=n(8),d=n(5),h=n(10),j=n(9),p="http://localhost:8080",b={getAllProducts:"/api/getAllProducts",signIn:"/api/auth/signin",signOut:"/api/auth/signout",signUp:"/api/auth/signup"},m=function(e){return p+b[e]},O=n(2),g=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={error:"",username:"",password:"",isSignUp:!1},r.onLogin=r.onLogin.bind(Object(d.a)(r)),r.handleChange=r.handleChange.bind(Object(d.a)(r)),r}return Object(u.a)(n,[{key:"handleChange",value:function(e){var t=e.target,n=t.value,r=t.name;this.setState(Object(o.a)({},r,n))}},{key:"onLogin",value:function(){var e=this,t=this.state;(function(e,t){return new Promise((function(n,r){fetch(m("signIn"),{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e.error?r(e):n(e)})).catch((function(e){return console.error("Error:",e),r("Something went wrong")}))}))})(t.username,t.password).then((function(e){window.location.href="/products"}),(function(t){e.setState({error:t.message})}))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.password,r=e.error;return Object(O.jsx)("div",{className:"loginContainer",children:Object(O.jsxs)("div",{className:"form",children:[Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{className:"label",children:"Username: "}),Object(O.jsx)("input",{type:"text",name:"username",className:"input",placeholder:"Username: verifone",value:t,onChange:this.handleChange})]}),Object(O.jsxs)("div",{className:"input-container",children:[Object(O.jsx)("label",{className:"label",children:"Password: "}),Object(O.jsx)("input",{type:"password",name:"password",className:"input",placeholder:"Password: verifone",value:n,onChange:this.handleChange})]}),r&&Object(O.jsx)("p",{className:"loginError",children:r}),Object(O.jsx)("button",{type:"submit",id:"login-btn",onClick:this.onLogin,children:"Login"})]})})}}]),n}(s.a.Component),f=n(1),v=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).state={productList:[]},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){fetch(m("getAllProducts"),{credentials:"include"}).then((function(e){return e.json()})).then((function(n){return n.error?t(n):e(n)})).catch((function(e){return console.error("Error:",e),t("Something went wrong")}))})).then((function(t){e.setState({productList:t})}),(function(e){alert("Error "+e.message),window.location.href="/"}))}},{key:"render",value:function(){var e=this.state.productList,t=void 0===e?[]:e;return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{className:"header",children:"Product List"}),Object(O.jsx)("div",{className:"productListContainer",children:t.map((function(e){return Object(O.jsxs)("div",{className:"productContainer",children:[Object(O.jsx)("div",{className:"productImg",children:Object(O.jsx)("img",{src:e.image,width:200,height:300})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"productDescContainer",children:[Object(O.jsx)("div",{className:"productTitle",children:e.title}),Object(O.jsxs)("div",{className:"productPrice",children:["\u20ac ",e.price]})]})]},e.id)}))})]})}}]),n}(s.a.Component),x=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{path:"/products",element:Object(O.jsx)(v,{})}),Object(O.jsx)(f.a,{path:"/",element:Object(O.jsx)(g,{})})]})})},w=document.getElementById("root");a.a.render(Object(O.jsx)(r.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(x,{})})}),w)}},[[21,1,2]]]);
//# sourceMappingURL=main.fd384ff7.chunk.js.map